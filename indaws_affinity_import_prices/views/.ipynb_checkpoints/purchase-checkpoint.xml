<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        
        
        <record id="product_supplierinfo_import_tree_view" model="ir.ui.view">
            <field name="name">product.supplierinfo.import.tree.view</field>
            <field name="model">product.supplierinfo</field>
            <field name="inherit_id" ref="product.product_supplierinfo_tree_view"/>
            <field name="arch" type="xml">

                <field name="price" position="after">
                    <field name="transport_cost"/>
                    <field name="margin"/>
                    <field name="not_update_prices"/>
                    <field name="price_entregado"/>
                    <field name="price_sale_recommend"/>
                    <field name="cantidad"/>
                </field>

            </field>
        </record>
        
        
        
        <record id="res_partner_supplier_prices_view" model="ir.ui.view">
            <field name="name">res.partner.supplier.prices.view</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="base.view_partner_form"/>
            <field name="arch" type="xml">

                <group name="purchase" position="inside">
                    <field name="transport_cost"/>
                    <field name="margin"/>
                    <field name="not_update_prices"/>
                </group>

            </field>
        </record>
        
        
        <record id="res_product_template_prices_view" model="ir.ui.view">
            <field name="name">product.template.prices.view</field>
            <field name="model">product.template</field>
            <field name="inherit_id" ref="product.product_template_form_view"/>
            <field name="arch" type="xml">

                <field name="uom_po_id" position="after">
                    <field name="fixed_price"/>
                </field>

            </field>
        </record>

        
        
        <record model="ir.ui.view" id="view_product_pricelist_load_tree">
            <field name="name">product.pricelist.load.tree</field>
            <field name="model">product.pricelist.load</field>
            <field name="priority" eval="16"/>
            <field name="arch" type="xml">
                <tree string="Import file">

                    <field name="partner_id"/>
					<field name="date"/>
                    
                </tree>
            </field>
        </record>
        
        <record model="ir.ui.view" id="view_product_pricelist_load_form">
			<field name="name">product.pricelist.load.form</field>
			<field name="model">product.pricelist.load</field>
			<field name="arch" type="xml">
			
				
			
				<form string="Import file">
				
					<header>
						<button name="import_product_lines" string="Importar" type="object" />
						<button name="process_lines" string="Procesar" type="object" />
                        <button name="process_all_products" string="Actualizar todos los productos" type="object" />
					</header>
					<sheet>
						<group>
							<field name="partner_id"/>
							<field name="date"/>
							<field name="file_to_upload"/>
							<field name="company_id"/>
                            <field name="replace"/>
                            <field name="delivery_time"/>
                            <field name="transport_cost"/>
                            <field name="margin"/>
                            <field name="not_update_prices"/>
                            <field name="validity"/>
						</group>
						<group>
							<field name='file_line_ids' nolabel="1">
								<tree string="Lineas" >
									<field name="file_load_id" invisible="1"/>
									<field name="code"/>
									<field name="product_name"/>
									<field name="price"/>
									<field name="cantidad"/>
                                    <field name="un_cs"/>
                                    <field name="vol_cl"/>
                                    <field name="avb"/>
                                    <field name="nrb"/>
									<field name="procesado"/>
									<field name="fail"/>
									<field name="fail_reason"/>
								</tree>
							</field>
						</group>
					</sheet>
				</form>
						
				

			</field>
		</record>
        
            
            
		<record id="action_product_pricelist_load" model="ir.actions.act_window" >
			<field name="name">Import suppliers</field>
			<field name="res_model">product.pricelist.load</field>
			<field name="view_mode">tree,form</field>
		</record>
		
		
		<menuitem name="Import suppliers" parent="purchase.menu_purchase_products" id="menu_product_pricelist_load" action="action_product_pricelist_load" sequence="200"/>
        
        
        <!-- PRECIOS PROVEEDORES -->
        
        <record model="ir.ui.view" id="view_supplier_analysis_tree">
            <field name="name">product.supplierinfo.analysis.tree</field>
            <field name="model">product.supplierinfo</field>
            <field name="priority" eval="86"/>
            <field name="arch" type="xml">
                <tree string="Supplier analysis">

                    <field name="product_tmpl_id"/>
					<field name="name"/>
                    <field name="price"/>
                    <field name="transport_cost"/>
                    <field name="margin"/>
                    <field name="not_update_prices"/>
                    <field name="price_entregado"/>
                    <field name="price_sale_recommend"/>
                    <field name="date_start"/>
                    <field name="date_end"/>
                    <field name="inc_cost"/>
                    <field name="min_supplier_id"/>
                    <field name="min_cost"/>
                    <field name="date_min_cost"/>
                    <field name="median_cost"/>
					<field name="variation_median_cost"/>
                    <field name="average_cost"/>
                    
                </tree>
            </field>
        </record>
        
        <record id="action_product_supplier_analysis" model="ir.actions.act_window" >
			<field name="name">Supplier analysis</field>
			<field name="res_model">product.supplierinfo</field>
            <field name="view_id" ref="indaws_affinity_import_prices.view_supplier_analysis_tree"/>
			<field name="view_mode">tree</field>
		</record>
		
		
		<menuitem name="Supplier analysis" parent="purchase.menu_purchase_products" id="menu_supplier_analysis" action="action_product_supplier_analysis" sequence="201"/>
        
        
        <!-- COST SUMMARY -->
        
        <record model="ir.ui.view" id="view_product_cost_summary_tree">
            <field name="name">product.template.cost.summary.tree</field>
            <field name="model">product.template</field>
            <field name="priority" eval="86"/>
            <field name="arch" type="xml">
                <tree string="Cost summary">

                    <field name="categ_id"/>
                    <field name="barcode"/>
                    <field name="default_code"/>
                    <field name="name"/>
                    <field name="min_cost"/>
                    <field name="min_supplier_id"/>
                    <field name="date_min_cost"/>
                    <field name="average_cost"/>
                    <field name="median_cost"/>
                    <field name="list_price"/>
                    <field name="num_prices"/>
                    
                </tree>
            </field>
        </record>
        
        <record id="action_product_cost_summary" model="ir.actions.act_window" >
			<field name="name">Cost summary</field>
			<field name="res_model">product.template</field>
			<field name="view_mode">tree,form</field>
            <field name="view_id" ref="indaws_affinity_import_prices.view_product_cost_summary_tree"/>
		</record>
		
		
		<menuitem name="Cost summary" parent="purchase.menu_purchase_products" id="menu_product_cost_summary" action="action_product_cost_summary" sequence="202"/>
        
        
        
        <!-- PRICELIST VIEW -->
        
        
        <record model="ir.ui.view" id="view_product_template_pricelist_summary_tree">
            <field name="name">product.template.pricelist.summary.tree</field>
            <field name="model">product.template</field>
            <field name="priority" eval="86"/>
            <field name="arch" type="xml">
                <tree string="Cost summary">

                    <field name="categ_id"/>
                    <field name="barcode"/>
                    <field name="default_code"/>
                    <field name="name"/>
                    <field name="list_price"/>
                    <field name="min_supplier_delay"/>
                    <field name="min_supplier_cantidad"/>
                    <field name="qty_available"/>
                    <field name="virtual_available"/>
                    

                </tree>
            </field>
        </record>
        
        <record id="action_product_pricelist_summary" model="ir.actions.act_window" >
			<field name="name">Pricelist summary</field>
			<field name="res_model">product.template</field>
			<field name="view_mode">tree,form</field>
            <field name="view_id" ref="indaws_affinity_import_prices.view_product_template_pricelist_summary_tree"/>
		</record>
		
		
		<menuitem name="Pricelist summary" parent="purchase.menu_purchase_products" id="menu_product_pricelist_summary" action="action_product_pricelist_summary" sequence="203"/>
        
        
        
        
    </data>
    
    
    
</odoo>
