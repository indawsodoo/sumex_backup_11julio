<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <record model="ir.ui.view" id="view_product_pricelist_load_tree">
            <field name="name">product.pricelist.load.tree</field>
            <field name="model">product.pricelist.load</field>
            <field name="priority" eval="16"/>
            <field name="arch" type="xml">
                <tree string="Import file">
                    <field name="partner_id"/>
					<field name="date"/>
                </tree>
            </field>
        </record>

        <record model="ir.ui.view" id="view_product_pricelist_load_form">
			<field name="name">product.pricelist.load.form</field>
			<field name="model">product.pricelist.load</field>
			<field name="arch" type="xml">
				<form string="Import file">
					<header>
						<button name="import_product_lines" string="Importar" type="object" />
						<button name="process_lines" string="Procesar" type="object" />
                        <button name="process_all_products" string="Actualizar todos los productos" type="object" />
					</header>
					<sheet>
                        <group>
                            <group>
                                <field name="partner_id"/>
                                <field name="date"/>
                                <field name="file_to_upload"/>
                                <field name="company_id"/>
                                <field name="replace"/>
                                <field name="transport_cost"/>
                                <field name="margin"/>
                                <field name="not_update_prices"/>
                                <field name="validity"/>
                            </group>
                            <group>
                                <field name="file" attrs="{'invisible': [('view_list_error', '=', False)]}"/>
                                <field name="view_list_error" invisible="1"/>
                            </group>
                        </group>
                        <field name='file_line_ids' nolabel="1">
                            <tree string="Lineas" >
                                <field name="file_load_id" invisible="1"/>
                                <field name="code"/>
                                <field name="product_name"/>
                                <field name="price"/>
                                <field name="cantidad"/>
                                <field name="procesado"/>
                                <field name="fail"/>
                                <field name="fail_reason"/>
                                <field name="vendor_code"/>
                                <field name="delivery_time"/>
                            </tree>
                        </field>
					</sheet>
				</form>
			</field>
		</record>

		<record id="action_product_pricelist_load" model="ir.actions.act_window" >
			<field name="name">Import suppliers</field>
			<field name="res_model">product.pricelist.load</field>
			<field name="view_mode">tree,form</field>
		</record>

		<menuitem name="Import suppliers" parent="purchase.menu_purchase_products" id="menu_product_pricelist_load" action="action_product_pricelist_load" sequence="200"/>
        
    </data>
</odoo>
